<div class="d-flex justify-content-between align-items-center mb-4">
  <h1 class="fw-bold">Minhas Listas</h1>

  <a href="/listas/nova" class="btn btn-success"> + Criar Nova Lista </a>
</div>

<% if (listas && listas.length) { %>

<table class="table table-striped table-hover shadow-sm">
  <thead class="table-dark">
    <tr>
      <th>Nome da Lista</th>
      <th class="text-center">Tarefas</th>
      <th class="text-end">Ações</th>
    </tr>
  </thead>

  <tbody>
    <% listas.forEach(lista => { %>
    <tr>
      <td class="fw-semibold">
        <a href="/listas/<%= lista.id %>" class="text-decoration-none">
          <%= lista.nome %>
        </a>
      </td>

      <td class="text-center">
        <span class="badge bg-primary"> <%= lista.tarefas.length %> </span>
      </td>

      <td class="text-end d-flex justify-content-end gap-2">
        <a
          href="/listas/<%= lista.id %>"
          class="btn btn-sm btn-outline-primary"
        >
          Ver
        </a>

        <form action="/listas/<%= lista.id %>/excluir" method="POST">
          <button
            type="submit"
            class="btn btn-sm btn-outline-danger"
            onclick="return confirm('Tem certeza que deseja excluir esta lista?')"
          >
            Excluir
          </button>
        </form>
      </td>
    </tr>
    <% }) %>
  </tbody>
</table>

<% } else { %>
<div class="alert alert-info">
  Nenhuma lista criada ainda. Comece criando uma nova!
</div>
<% } %>
